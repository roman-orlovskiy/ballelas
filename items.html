<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Items - BALLELAS</title>
  <link rel="preload" href="img_opt/card_opt/hack_front.webp" as="image">
  <link rel="preload" href="img_opt/card_opt/hak_back.webp" as="image">
  <link rel="preload" href="img/l.svg" as="image">
  <link rel="preload" href="fonts/TT Travels Next Bold.ttf" as="font" type="font/ttf" crossorigin>
  <style>
    @font-face {
      font-family: 'TTTravels';
      src: url('fonts/TT Travels Next Bold.ttf') format('truetype');
      font-weight: bold;
      font-display: swap;
    }
    *{margin:0;padding:0;box-sizing:border-box}
    html{overflow:hidden;height:100%}
    :root{--bg-color:#F3F4E4;--text-color:#212020;--button-bg:#462C24;--button-text:#E6DBB7}
    body{margin:0;background-color:var(--bg-color);background-image:url('card/bbb.svg');background-repeat:no-repeat;background-position:center;background-size:cover;min-height:100vh;font-family:'TTTravels',sans-serif;color:var(--text-color);display:flex;flex-direction:column;align-items:center;padding-top:100px;padding-bottom:40px;position:relative}
    body>*{position:relative;z-index:1}
    .top-logo{position:fixed;top:25px;left:50%;transform:translateX(-50%);z-index:10}
    .top-logo a{text-decoration:none;display:inline-block}
    .logo-svg{width:96px;height:auto;max-width:144px;max-height:60px;filter:brightness(0) saturate(100%) invert(18%) sepia(30%) saturate(1500%) hue-rotate(345deg) brightness(0.6) contrast(1.1)}
    .order-button{background-color:#F3F4E4;color:#462C24;font-size:20px;font-family:'TTTravels',sans-serif;text-transform:uppercase;width:274px;height:60px;padding:0;border:none;border-radius:200px;cursor:pointer;transition:background-color .3s,transform .3s;text-decoration:none;display:flex;align-items:center;justify-content:center;letter-spacing:.5px}
    .order-button-bottom{position:fixed;bottom:30px;left:50%;transform:translateX(-50%);z-index:10}
    .order-button-bottom:hover{transform:translateX(-50%) scale(.95)}
    .color-switcher{position:fixed;bottom:110px;left:50%;transform:translateX(-50%);display:flex;gap:15px;z-index:10}
    .color-button{width:30px;height:30px;border-radius:50%;border:2px solid #212020;cursor:pointer;transition:transform .2s,box-shadow .2s;box-shadow:0 2px 4px rgba(0,0,0,.2)}
    .color-button:hover{transform:scale(1.1);box-shadow:0 4px 8px rgba(0,0,0,.3)}
    .color-button.active{border-width:3px;box-shadow:0 0 0 3px rgba(33,32,32,.3)}
    .color-button-1{background-color:#47443F}
    .color-button-2{background-color:#EFEFEF}
    .center-image-container{position:absolute;top:calc(50% - 20px);left:50%;transform:translate(-50%,-50%);max-width:65%;max-height:65vh;cursor:pointer;touch-action:manipulation}
    .center-image{max-width:100%;max-height:65vh;width:auto;height:auto;display:block;transition:opacity .3s;pointer-events:none;object-fit:contain}
    .center-image-hover{position:absolute;top:0;left:0;max-width:100%;max-height:65vh;width:auto;height:auto;opacity:0;transition:opacity .3s;pointer-events:none;object-fit:contain}
    .price{position:absolute;top:calc(50% + 40vh - 40px);left:50%;transform:translateX(-50%);font-family:'TTTravels',sans-serif;font-size:32px;color:var(--text-color);z-index:2;white-space:nowrap}
    .tshirt-hover-area{display:inline-block;position:relative;cursor:pointer;z-index:2;touch-action:manipulation}
    .tshirt-hover-area:hover .center-image,.tshirt-hover-area.hover-active .center-image{opacity:0}
    .tshirt-hover-area:hover .center-image-hover,.tshirt-hover-area.hover-active .center-image-hover{opacity:1}
    @media(min-width:769px){body{position:relative}.center-image-container{position:absolute;left:50%;top:calc(50% - 70px);transform:translate(-50%,-50%)}.price{top:calc(50% + 35vh - 90px);font-size:36px}}
    @media(max-width:768px){html{overflow:hidden;height:100%;position:fixed;width:100%}body{padding-top:90px;padding-bottom:120px;overflow:hidden;height:100vh;position:fixed;width:100%;touch-action:none}.top-logo{top:20px}.logo-svg{width:160px;max-width:240px;max-height:100px}.center-image-container{top:calc(50% - 60px);max-width:85vw;max-height:65vh;transform:translate(-50%,-50%) scale(2.2)}.center-image,.center-image-hover{max-height:65vh}.price{top:calc(50% + 38vh - 110px);font-size:28px}.color-switcher{bottom:100px;gap:12px}.color-button{width:28px;height:28px}.order-button{width:calc(100vw - 40px);max-width:300px;height:56px;font-size:18px;bottom:20px}}
    @media(max-width:480px){html{overflow:hidden;height:100%;position:fixed;width:100%}body{padding-top:70px;padding-bottom:110px;overflow:hidden;height:100vh;position:fixed;width:100%;touch-action:none}.top-logo{top:15px}.logo-svg{width:140px;max-width:200px;max-height:90px}.center-image-container{top:calc(50% - 55px);max-width:90vw;max-height:60vh;transform:translate(-50%,-50%) scale(2.2)}.center-image,.center-image-hover{max-height:60vh}.price{top:calc(50% + 35vh - 110px);font-size:24px}.color-switcher{bottom:90px;gap:10px}.color-button{width:26px;height:26px;border-width:1.5px}.order-button{width:calc(100vw - 30px);max-width:280px;height:52px;font-size:16px;bottom:15px}}
    @media(max-height:600px) and (orientation:landscape){html{overflow:hidden;height:100%;position:fixed;width:100%}body{overflow:hidden;height:100vh;position:fixed;width:100%;touch-action:none}.center-image-container{top:calc(50% - 70px);max-height:55vh;transform:translate(-50%,-50%) scale(2.2)}.center-image,.center-image-hover{max-height:55vh}.price{top:calc(50% + 32vh - 110px);font-size:22px}.color-switcher{bottom:80px}.order-button{bottom:15px;height:48px;font-size:14px}}
  </style>
</head>
<body>
  <div class="top-logo">
    <a href="index.html">
      <img src="img/l.svg" alt="Logo" class="logo-svg" width="96" height="40">
    </a>
  </div>

  <div class="center-image-container">
    <div class="tshirt-hover-area">
      <img src="img_opt/card_opt/hack_front.webp" alt="Center Image" class="center-image" id="main-image" width="400" height="500" loading="eager">
      <img src="img_opt/card_opt/hak_back.webp" alt="Center Image Hover" class="center-image-hover" id="hover-image" width="400" height="500" loading="eager">
    </div>
  </div>

  <div class="price">3 500₽</div>

  <div class="color-switcher">
    <button class="color-button color-button-1 active" aria-label="Color 1" data-color="dark"></button>
    <button class="color-button color-button-2" aria-label="Color 2" data-color="white"></button>
  </div>

  <a href="https://t.me/ballelas" class="order-button order-button-bottom" target="_blank" rel="noopener">ЗАКАЗАТЬ</a>

  <script>
    const colorButtons=document.querySelectorAll('.color-button'),mainImage=document.getElementById('main-image'),hoverImage=document.getElementById('hover-image'),centerImageContainer=document.querySelector('.center-image-container'),tshirtHoverArea=document.querySelector('.tshirt-hover-area'),logo=document.querySelector('.logo-svg'),orderButton=document.querySelector('.order-button'),priceElement=document.querySelector('.price');
    let isShowingHover=false,touchStartTime=0;
    const isTouch='ontouchstart'in window;
    
    // Preload alternate images
    const preloadWhite=new Image();preloadWhite.src='img_opt/card_opt/white_front.webp';
    const preloadWhiteB=new Image();preloadWhiteB.src='img_opt/card_opt/white_back.webp';
    
    if(orderButton){
      orderButton.style.backgroundColor='#462C24';
      orderButton.style.color='#F3F4E4';
      orderButton.onmouseenter=function(){this.style.backgroundColor=this.style.backgroundColor==='rgb(70, 44, 36)'||this.style.backgroundColor==='#462C24'?'#5a3a2f':'#e8e6d8'};
      orderButton.onmouseleave=function(){const c=document.querySelector('.color-button.active')?.dataset.color||'dark';this.style.backgroundColor=c==='dark'?'#462C24':'#F3F4E4';this.style.color=c==='dark'?'#F3F4E4':'#462C24'}
    }
    
    function toggleImage(){
      isShowingHover=!isShowingHover;
      mainImage.style.opacity=isShowingHover?'0':'1';
      hoverImage.style.opacity=isShowingHover?'1':'0';
      if(tshirtHoverArea)tshirtHoverArea.classList.toggle('hover-active',isShowingHover)
    }
    
    if(!isTouch&&tshirtHoverArea){
      tshirtHoverArea.onmouseenter=function(e){if(!e.target.closest('.color-switcher')){mainImage.style.opacity='0';hoverImage.style.opacity='1';tshirtHoverArea.classList.add('hover-active')}};
      tshirtHoverArea.onmouseleave=function(){mainImage.style.opacity='1';hoverImage.style.opacity='0';tshirtHoverArea.classList.remove('hover-active')}
    }
    
    centerImageContainer.onclick=function(e){if(!e.target.closest('.color-switcher')&&isTouch)toggleImage()};
    centerImageContainer.addEventListener('touchstart',function(e){if(!e.target.closest('.color-switcher'))touchStartTime=Date.now()},{passive:true});
    centerImageContainer.addEventListener('touchend',function(e){if(!e.target.closest('.color-switcher')&&Date.now()-touchStartTime<300){e.preventDefault();toggleImage()}},{passive:false});
    
    colorButtons.forEach(btn=>btn.onclick=function(){
      colorButtons.forEach(b=>b.classList.remove('active'));
      this.classList.add('active');
      const c=this.dataset.color,isWhite=c==='white';
      mainImage.src=isWhite?'img_opt/card_opt/white_front.webp':'img_opt/card_opt/hack_front.webp';
      hoverImage.src=isWhite?'img_opt/card_opt/white_back.webp':'img_opt/card_opt/hak_back.webp';
      document.body.style.backgroundColor=isWhite?'#212020':'#F3F4E4';
      document.body.style.backgroundImage=isWhite?"url('img/black_bg.svg')":"url('card/bbb.svg')";
      if(logo)logo.style.filter=isWhite?'brightness(0) saturate(100%) invert(96%) sepia(3%) saturate(500%) hue-rotate(5deg) brightness(98%) contrast(95%)':'brightness(0) saturate(100%) invert(18%) sepia(30%) saturate(1500%) hue-rotate(345deg) brightness(0.6) contrast(1.1)';
      if(orderButton){orderButton.style.backgroundColor=isWhite?'#F3F4E4':'#462C24';orderButton.style.color=isWhite?'#462C24':'#F3F4E4'}
      if(priceElement)priceElement.style.color=isWhite?'#F3F4E4':'#212020';
      isShowingHover=false;mainImage.style.opacity='1';hoverImage.style.opacity='0'
    })
  </script>
</body>
</html>
